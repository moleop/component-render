{
  "id": "root",
  "layoutOptions": {
    "elk.algorithm": "layered",
    "elk.hierarchyHandling": "INCLUDE_CHILDREN",
    "elk.direction": "RIGHT",
    "elk.spacing.nodeNode": "60",
    "elk.layered.spacing.edgeNodeBetweenLayers": "40"
  },
  "children": [
    {
      "id": "input_node",
      "width": 60, "height": 40,
      "labels": [{ "text": "Input" }],
      "ports": [
        { "id": "p_in_1", "width": 8, "height": 8, "layoutOptions": { "elk.port.side": "EAST" } }
      ]
    },
    {
      "id": "sub_main",
      "labels": [{ "text": "Main Subsystem" }],
      "layoutOptions": {
          "elk.padding": "[top=30,left=30,bottom=30,right=30]",
          "elk.algorithm": "layered"
      },
      "children": [
        {
          "id": "proc_1",
          "width": 80, "height": 60,
          "labels": [{ "text": "Processor 1" }],
          "ports": [
             { "id": "p_p1_in1", "width": 8, "height": 8, "layoutOptions": { "elk.port.side": "WEST" } },
             { "id": "p_p1_in2", "width": 8, "height": 8, "layoutOptions": { "elk.port.side": "WEST" } },
             { "id": "p_p1_out1", "width": 8, "height": 8, "layoutOptions": { "elk.port.side": "EAST" } },
             { "id": "p_p1_out2", "width": 8, "height": 8, "layoutOptions": { "elk.port.side": "EAST" } }
          ]
        },
        {
          "id": "proc_2",
          "width": 80, "height": 50,
          "labels": [{ "text": "Processor 2" }],
          "ports": [
             { "id": "p_p2_in", "width": 8, "height": 8, "layoutOptions": { "elk.port.side": "WEST" } },
             { "id": "p_p2_out", "width": 8, "height": 8, "layoutOptions": { "elk.port.side": "EAST" } }
          ]
        },
        {
            "id": "sub_deep",
            "labels": [{"text": "Deep Subsystem"}],
            "layoutOptions": {
                "elk.padding": "[top=20,left=20,bottom=20,right=20]",
                "elk.algorithm": "layered"
            },
            "children": [
                {
                    "id": "deep_1",
                    "width": 70, "height": 40,
                    "labels": [{"text": "Deep Logic"}],
                    "ports": [
                        { "id": "p_d1_in", "width": 8, "height": 8, "layoutOptions": { "elk.port.side": "WEST" } },
                        { "id": "p_d1_out", "width": 8, "height": 8, "layoutOptions": { "elk.port.side": "EAST" } }
                    ]
                }
            ]
        }
      ],
      "edges": [
          { "id": "e_p1_deep", "sources": ["p_p1_out1"], "targets": ["p_d1_in"] },
          { "id": "e_deep_p1", "sources": ["p_d1_out"], "targets": ["p_p1_in2"] }
      ]
    },
    {
      "id": "output_node",
      "width": 60, "height": 40,
      "labels": [{ "text": "Output" }],
      "ports": [
        { "id": "p_out_1", "width": 8, "height": 8, "layoutOptions": { "elk.port.side": "WEST" } }
      ]
    }
  ],
  "edges": [
    { "id": "e_in_p1", "sources": ["p_in_1"], "targets": ["p_p1_in1"] },
    { "id": "e_in_p2", "sources": ["p_in_1"], "targets": ["p_p2_in"] },
    { "id": "e_deep_out", "sources": ["p_d1_out"], "targets": ["p_out_1"] },
    { "id": "e_p2_out", "sources": ["p_p2_out"], "targets": ["p_out_1"] }
  ]
}
