<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="654" height="267.2" viewBox="0 0 654 267.2" style="font-family: sans-serif;">
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
    </marker>
  </defs>
  <g transform="translate(0, 0)" id="root" class="node">
    <g transform="translate(12, 31.6)" id="input_node" class="node">
      <rect width="60" height="40" fill="#ffffff" stroke="#333" stroke-width="2" rx="5"/>
      <text x="30" y="15" text-anchor="middle" font-size="12px" fill="#000">Input</text>
      <rect x="60" y="16" width="8" height="8" fill="#666" stroke="#333" stroke-width="1" class="port"/>
    </g>
    <g transform="translate(165, 12)" id="sub_main" class="node">
      <rect width="324" height="243.2" fill="#f9f9f9" stroke="#333" stroke-width="2" rx="5"/>
      <text x="162" y="15" text-anchor="middle" font-size="12px" fill="#000">Main Subsystem</text>
      <g transform="translate(214, 30.000000000000004)" id="proc_1" class="node">
        <rect width="80" height="60" fill="#ffffff" stroke="#333" stroke-width="2" rx="5"/>
        <text x="40" y="15" text-anchor="middle" font-size="12px" fill="#000">Processor 1</text>
        <rect x="-8" y="5.6" width="8" height="8" fill="#666" stroke="#333" stroke-width="1" class="port"/>
        <rect x="-8" y="32.8" width="8" height="8" fill="#666" stroke="#333" stroke-width="1" class="port"/>
        <rect x="-8" y="19.2" width="8" height="8" fill="#666" stroke="#333" stroke-width="1" class="port"/>
        <rect x="-8" y="46.4" width="8" height="8" fill="#666" stroke="#333" stroke-width="1" class="port"/>
      </g>
      <g transform="translate(78, 163.2)" id="proc_2" class="node">
        <rect width="80" height="50" fill="#ffffff" stroke="#333" stroke-width="2" rx="5"/>
        <text x="40" y="15" text-anchor="middle" font-size="12px" fill="#000">Processor 2</text>
        <rect x="-8" y="21" width="8" height="8" fill="#666" stroke="#333" stroke-width="1" class="port"/>
        <rect x="80" y="21" width="8" height="8" fill="#666" stroke="#333" stroke-width="1" class="port"/>
      </g>
      <g transform="translate(55, 63.2)" id="sub_deep" class="node">
        <rect width="126" height="80" fill="#f9f9f9" stroke="#333" stroke-width="2" rx="5"/>
        <text x="63" y="15" text-anchor="middle" font-size="12px" fill="#000">Deep Subsystem</text>
        <g transform="translate(28, 20)" id="deep_1" class="node">
          <rect width="70" height="40" fill="#ffffff" stroke="#333" stroke-width="2" rx="5"/>
          <text x="35" y="15" text-anchor="middle" font-size="12px" fill="#000">Deep Logic</text>
          <rect x="-8" y="16" width="8" height="8" fill="#666" stroke="#333" stroke-width="1" class="port"/>
          <rect x="70" y="16" width="8" height="8" fill="#666" stroke="#333" stroke-width="1" class="port"/>
        </g>
      </g>
      <path d="M 206 53.2 L 40 53.2 L 40 103.2 L 75 103.2" fill="none" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
      <path d="M 161 103.2 L 196 103.2 L 196 66.8 L 206 66.8" fill="none" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
    </g>
    <g transform="translate(582, 95.2)" id="output_node" class="node">
      <rect width="60" height="40" fill="#ffffff" stroke="#333" stroke-width="2" rx="5"/>
      <text x="30" y="15" text-anchor="middle" font-size="12px" fill="#000">Output</text>
      <rect x="-8" y="16" width="8" height="8" fill="#666" stroke="#333" stroke-width="1" class="port"/>
    </g>
    <path d="M 80 51.6 L 371 51.6" fill="none" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
    <path d="M 80 51.6 L 120 51.6 L 120 200.2 L 235 200.2" fill="none" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
    <path d="M 326 115.2 L 574 115.2" fill="none" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
    <path d="M 331 200.2 L 534 200.2 L 534 115.2 L 574 115.2" fill="none" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  </g>
</svg>